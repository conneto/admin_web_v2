<div *ngIf="campaign">
  <div class="container">
    <div class="box">
      <div class="closeButton">
        <button (click)="goBack()"><mat-icon>close</mat-icon></button>
      </div>
      <div class="header">
        <div class="header-content">
          <div class="header-image">
            <img src="{{ urlApi }}/show/images?p={{ urlCover }}" alt="" />
          </div>
        </div>
        <div class="content__tab">
          <ul>
            <li
              [class.content__tab-active]="isInformation"
              (click)="getTab('infor')"
            >
              Thông tin
            </li>
            <li
              [class.content__tab-active]="isDocument"
              (click)="getTab('doc')"
              *ngIf="campaign.type == 'Quyên góp'"
            >
              Tài liệu
            </li>
            <li [class.content__tab-active]="isAnother" (click)="getTab('ano')">
              {{
                campaign.type == "Quyên góp"
                  ? "Lịch sử quyên góp"
                  : "Quản lý tuyển dụng"
              }}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div *ngIf="isInformation" class="box box__content">
      <div class="content">
        <div class="content-information">
          <div class="content-description">
            <span>Tên chiến dịch:</span>
            <p>
              {{ campaign.name }}
            </p>
          </div>
          <div class="content-description">
            <span>Đồng hành cùng chiến dịch:</span>
            <img
              class="organization__avatar"
              src="{{ urlApi }}/show/images?p={{ urlLogo }}"
            />
            <p>
              {{ campaign.org_name }}
            </p>
          </div>
          <div class="content-description">
            <span>Thuộc dự án:</span>
            <img
              class="organization__avatar"
              src="{{ urlApi }}/show/images?p={{ urlProjectLogo }}"
            />
            <p>
              {{ campaign.pro_name }}
            </p>
          </div>
          <div class="content-description">
            <span>Giới thiệu chiến dịch:</span>
            <p>
              {{ campaign.description }}
            </p>
          </div>
          <div class="content-description">
            <span>Thể loại:</span>
            <p>
              {{ campaign.type }}
            </p>
          </div>
          <div class="content-description">
            <span>Mục tiêu:</span>
            <p>
              {{
                campaign.type == "Quyên góp"
                  ? (campaign.target | number) + "đ"
                  : campaign.target + " người"
              }}
            </p>
          </div>
          <div class="content-description">
            <span>Đã đạt:</span>
            <p>
              {{
                campaign.type == "Quyên góp"
                  ? (campaign.totalDonated | number) + "đ"
                  : campaign.totalPaticipant + " người "
              }}
            </p>
          </div>
          <!-- <div class="content-description">
            <span>Lĩnh vực:</span>
            <p>
              {{ campaign.category }}
            </p>
          </div> -->
          <div class="content-description">
            <span>Thời gian diễn ra:</span>
            <p>
              {{ campaign.startDate | date: "dd/MM/yyyy" }} -
              {{ campaign.endDate | date: "dd/MM/yyyy" }}
            </p>
          </div>
          <div *ngIf="isApproved" class="delete-button">
            <app-delete-entity
              [type]="'cam'"
              [entity]="campaign"
            ></app-delete-entity>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="isDocument && isApproved == true" class="box box__content">
      <div class="content">
        <div class="content-tab">
          <div *ngIf="isEmpty">
            Hiện tại chiến dịch này chưa có tài liệu nào !
          </div>
          <div *ngIf="!isAdmin" class="ms-2">
            <button mat-flat-button color="primary" (click)="isUpload = true;isExcel=false;isPDF=false;">
              <mat-icon>file_upload</mat-icon>Tải lên tài liệu
            </button>
          </div>
          <button
            *ngIf="documentExcel.length!=0"
            mat-flat-button
            color="primary"
            (click)="getDocumentExcel()"
            class='ms-2'
          >
            <mat-icon>offline_pin</mat-icon> Tài liệu chi tiết dòng tiền
          </button>
          <button
            *ngIf="documentPDF.length > 0"
            mat-flat-button
            color="primary"
            (click)="getDocument()"
            class="ms-2"
          >
            <mat-icon>attach_file</mat-icon> Tài liệu của chiến dịch
          </button>

      
        </div>

        <div *ngIf="isPDF || isExcel">
          <app-show-document
            [type]="type"
            [entityExcel]="documentExcel"
            [entityPDF]="documentPDF"
          ></app-show-document>
        </div>
        <div *ngIf="!isAdmin && isUpload">
          <h6 style="display: flex; align-items: center">
            Vui lòng bạn
            <button class="file_template" mat-button color="primary">
              <a href="assets/doc/cashflow_detail_template.xlsx" download>
                Tải về biểu mẫu</a
              ></button
            >, điền đầy đủ thông tin yêu cầu theo mẫu và tải lên lại.
          </h6>
          <app-download-document-form
            (isUploaded)="getValue($event)"
            [campaign]="campaign"
          ></app-download-document-form>
        </div>
      </div>
    </div>
    <div *ngIf="isAnother && isEmpty == false">
      <app-table-campaign-participations
        [type]="type"
        [volunteer]="volunteer"
      ></app-table-campaign-participations>
    </div>
  </div>
</div>
